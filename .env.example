# ==============================================
# KEYLOR.FR - Site Vitrine (Variables d'environnement)
# ==============================================
# Ce fichier contient UNIQUEMENT les noms des variables.
# NE JAMAIS committer le vrai fichier .env avec les vraies valeurs !
# Copiez ce fichier vers .env et remplissez avec vos vraies valeurs.

# ==============================================
# DATABASE (PostgreSQL partagée avec l'intranet)
# ==============================================
# La vitrine utilise la MÊME base de données que l'intranet
# mais en MODE LECTURE SEULE (read-only)
DATABASE_URL=postgresql://user:password@host:port/database

# Détails de connexion PostgreSQL (si nécessaire)
PGHOST=your-postgres-host.com
PGPORT=5432
PGUSER=your-postgres-user
PGPASSWORD=your-postgres-password
PGDATABASE=your-database-name

# ==============================================
# STORAGE (Local filesystem - no cloud dependency)
# ==============================================
# IMPORTANT: Nov 22, 2025 migration completed - now uses local filesystem
# No more Replit sidecar dependency!

# Development: Uses ./storage/ by default (relative path)
# Production VPS: Must use /var/www/keylor/storage (absolute path)
STORAGE_PATH=./storage

# Legacy compatibility variables (auto-configured from STORAGE_PATH)
# Development defaults:
PUBLIC_OBJECT_SEARCH_PATHS=./storage/public
PRIVATE_OBJECT_DIR=./storage/.private

# VPS production (uncomment and update when deploying):
# STORAGE_PATH=/var/www/keylor/storage
# PUBLIC_OBJECT_SEARCH_PATHS=/var/www/keylor/storage/public
# PRIVATE_OBJECT_DIR=/var/www/keylor/storage/.private

# ==============================================
# SÉCURITÉ - Secret partagé avec l'intranet
# ==============================================
# Ce secret permet à l'intranet de valider les requêtes API
# ⚠️ DOIT ÊTRE IDENTIQUE dans l'intranet ET la vitrine
# Valeur recommandée : keylor-intranet-secret-2024-shared-upload
INTRANET_SHARED_SECRET=your-shared-secret-here

# ==============================================
# EMAIL (Resend ou Mailjet - pour notifications)
# ==============================================
# Pour envoyer des emails transactionnels (confirmations de rdv, etc.)
RESEND_API_KEY=your-resend-api-key

# OU utiliser Mailjet si vous préférez
MAILJET_API_KEY=your-mailjet-api-key
MAILJET_SECRET_KEY=your-mailjet-secret-key

# ==============================================
# GOOGLE MAPS (optionnel - pour la carte des biens)
# ==============================================
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# ==============================================
# OPENROUTESERVICE (optionnel - pour calcul d'itinéraires)
# ==============================================
OPENROUTESERVICE_API_KEY=your-openrouteservice-api-key

# ==============================================
# VPS DEPLOYMENT CONFIGURATION (Nov 22, 2025 - READY TO DEPLOY)
# ==============================================
# Uncomment and update these for VPS Ubuntu 25.04 deployment:

# Database: Local PostgreSQL (not Neon)
# DATABASE_URL=postgresql://keylor:VOTRE_MOT_DE_PASSE@localhost:5432/keylor_db
# PGHOST=localhost
# PGPORT=5432
# PGUSER=keylor
# PGPASSWORD=VOTRE_MOT_DE_PASSE
# PGDATABASE=keylor_db

# Storage: Local filesystem (no Replit sidecar)
# STORAGE_PATH=/var/www/keylor/storage
# PUBLIC_OBJECT_SEARCH_PATHS=/var/www/keylor/storage/public
# PRIVATE_OBJECT_DIR=/var/www/keylor/storage/.private

# Admin credentials (MUST change from defaults)
# ADMIN_PASSWORD=YOUR_SECURE_PASSWORD_HERE
# SESSION_SECRET=YOUR_RANDOM_SECRET_HERE (use: openssl rand -base64 32)

# ==============================================
# IMPORTANT NOTES
# ==============================================
# 1. STORAGE: Now fully autonomous - no Replit sidecar dependency
# 2. VPS-READY: Complete migration audit done (see MIGRATION_VPS_AUDIT.md)
# 3. DEV vs PROD: Only change STORAGE_PATH, DATABASE_URL, and ADMIN_PASSWORD
# 4. SECURITY: Always change ADMIN_PASSWORD and SESSION_SECRET in production
# 5. ZERO REPLIT DEPS: All plugins are dev-only and won't load in production
